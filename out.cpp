#include <vector>
#include <iostream>
#include <cstdio>

using namespace std;

int N2848501;
int N3223705;
int N5482029;
int N6023753;
long N9017524;
vector<long> N9602563;
int N2394825;
long N7517877;
int N9667858;

void N7981991(vector<long> &N3801717,int N3791752,int N8376851,bool N6825352)
{
    while (N3791752 < N8376851) {
        if (((2 * N3791752 + 1 < N8376851) && (2 * N3791752 + 2 < N8376851))) {
            N3223705 = 0;
            if (N3801717[2 * N3791752 + 1] <= N3801717[2 * N3791752 + 2]) {
                N3223705 = 2 * N3791752 + 2;
            } else {
                N3223705 = 2 * N3791752 + 1;
            }
            if (N3801717[N3223705] > N3801717[N3791752]) {
                swap(N3801717[N3791752], N3801717[N3223705]);
                N3791752 = N3223705;
            } else {
                break;
            }
        } else {
            if (2 * N3791752 + 1 < N8376851) {
                if (N3801717[N3791752] < N3801717[2 * N3791752 + 1]) {
                    swap(N3801717[N3791752], N3801717[2 * N3791752 + 1]);
                    N3791752 = 2 * N3791752 + 1;
                } else {
                    break;
                }
            } else {
                break;
            }
        }
        N2848501++;
    }
};
void N4018228(vector<long> &N5216776,int N8498996)
{
    for (N5482029 = N8498996 - 1; N5482029 >= 0; N5482029--) {
        N7981991(N5216776, N5482029, N8498996, false);
    }
    N6023753 = N8498996;
    while (N6023753 > 1) {
        swap(N5216776[0], N5216776[N6023753 - 1]);
        N6023753--;
        N7981991(N5216776, 0, N6023753, true);
    }
};
int main()
{
    N2848501 = 0;
    N9017524 = 0;
    cin >> N9017524;
    ;
    for (N2394825 = 0; N2394825 < N9017524; N2394825++) {
        N7517877 = 0;
        cin >> N7517877;
        N9602563.push_back(N7517877);
    }
    N4018228(N9602563, N9017524);
    cout << N2848501 << endl;
    N9667858 = 0;
    cin >> N9667858;
};
